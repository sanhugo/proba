2025-08-15 22:15:24 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-15 22:15:24 INFO  ru.proba.ProbaApplication - Starting ProbaApplication using Java 21.0.7 with PID 14100 (D:\IDEA Projects\proba\build\classes\java\main started by Alexandr in D:\IDEA Projects\proba)
2025-08-15 22:15:24 DEBUG ru.proba.ProbaApplication - Running with Spring Boot v3.5.3, Spring v6.2.8
2025-08-15 22:15:24 INFO  ru.proba.ProbaApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.BuildingRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.CityRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.ProbeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.RecordRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.RoomRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 0 JDBC repository interfaces.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-15 22:15:26 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 6 JPA repository interfaces.
2025-08-15 22:15:27 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-15 22:15:27 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-15 22:15:27 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-15 22:15:27 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-15 22:15:27 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-15 22:15:27 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2639 ms
2025-08-15 22:15:27 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-15 22:15:27 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-08-15 22:15:27 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-15 22:15:28 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-15 22:15:28 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-15 22:15:28 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@216328b2
2025-08-15 22:15:28 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-15 22:15:28 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-15 22:15:30 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - set client_min_messages = WARNING
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists buildings drop constraint if exists FKeyftus6n4tp8g3nae1r0fb7sb
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists probes_records drop constraint if exists FKi9thbbw13p8m1w1mhb1mojoup
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists probes_records drop constraint if exists FK5pnaqd5kynrw9vvx8rue5y1px
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists profiles drop constraint if exists FK6i9scntmiae7cg89oau9mubwr
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists records drop constraint if exists FK6na4l05r2d7prgc6a8y0lw99x
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists records drop constraint if exists FK2j6puth4d59q9k3tq4g71vc3
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists rooms drop constraint if exists FKojgn0sxhkfxd7pmmojnem9r4q
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists rooms drop constraint if exists FKm6ld0f4qjanu1dksnxl3648kl
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists users drop constraint if exists FKtftrmf7y1j60bpek1nxlen53r
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - drop table if exists buildings cascade
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - drop table if exists cities cascade
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - drop table if exists probes cascade
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - drop table if exists probes_records cascade
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - drop table if exists profiles cascade
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - drop table if exists records cascade
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - drop table if exists rooms cascade
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - drop table if exists users cascade
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - create table buildings (active boolean not null, cities_id integer not null, id bigint generated by default as identity, address varchar(255) not null, description varchar(255), primary key (id))
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - create table cities (active boolean not null, id integer generated by default as identity, name varchar(255) not null, timezone varchar(255) not null, primary key (id))
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - create table probes (date date not null, start_time time(6) not null, id bigint generated by default as identity, condition varchar(255) check (condition in ('NONE','RUSSIAN_OGE','ENGLISH_OGE','ENGLISH_EGE')), primary key (id))
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - create table probes_records (probe_id bigint not null, records_id bigint not null unique)
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - create table profiles (users_id bigint not null, name varchar(255) not null, second_name varchar(255), surname varchar(255) not null, primary key (users_id))
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - create table records (is_payed boolean not null, id bigint generated by default as identity, probes_id bigint not null, users_id bigint not null, subject varchar(255) not null check (subject in ('RUSSIAN_LANGUAGE','RUSSIAN_OGE','MATHEMATICS_BASIC','MATHEMATICS_PROFILE','MATHEMATICS','PHYSICS','CHEMISTRY','BIOLOGY','COMPUTER_SCIENCE','HISTORY','SOCIAL_STUDIES','GEOGRAPHY','LITERATURE','ENGLISH','ENGLISH_SPEAKING','GERMAN','FRENCH','SPANISH','CHINESE','PHYSICS_OGE','CHEMISTRY_OGE','BIOLOGY_OGE','COMPUTER_SCIENCE_OGE','HISTORY_OGE','SOCIAL_STUDIES_OGE','GEOGRAPHY_OGE','LITERATURE_OGE','ENGLISH_OGE','GERMAN_OGE','FRENCH_OGE','SPANISH_OGE','CHINESE_OGE')), primary key (id))
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - create table rooms (active boolean not null, capacity integer not null, building_id bigint not null, id bigint generated by default as identity, profiles_id bigint not null, num varchar(255) not null, primary key (id))
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - create table users (id bigint generated by default as identity, profile_users_id bigint unique, tg_id bigint, login varchar(255) not null, password varchar(255) not null, roles varchar(255) array, primary key (id))
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists buildings add constraint FKeyftus6n4tp8g3nae1r0fb7sb foreign key (cities_id) references cities
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists probes_records add constraint FKi9thbbw13p8m1w1mhb1mojoup foreign key (records_id) references records
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists probes_records add constraint FK5pnaqd5kynrw9vvx8rue5y1px foreign key (probe_id) references probes
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists profiles add constraint FK6i9scntmiae7cg89oau9mubwr foreign key (users_id) references users
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists records add constraint FK6na4l05r2d7prgc6a8y0lw99x foreign key (probes_id) references probes
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists records add constraint FK2j6puth4d59q9k3tq4g71vc3 foreign key (users_id) references users
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists rooms add constraint FKojgn0sxhkfxd7pmmojnem9r4q foreign key (building_id) references buildings
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists rooms add constraint FKm6ld0f4qjanu1dksnxl3648kl foreign key (profiles_id) references profiles
2025-08-15 22:15:30 DEBUG org.hibernate.SQL - alter table if exists users add constraint FKtftrmf7y1j60bpek1nxlen53r foreign key (profile_users_id) references profiles
2025-08-15 22:15:30 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-15 22:15:31 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-15 22:15:32 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-15 22:15:34 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-15 22:15:34 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-15 22:15:34 INFO  ru.proba.ProbaApplication - Started ProbaApplication in 10.287 seconds (process running for 11.747)
2025-08-15 22:16:16 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-15 22:16:16 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-15 22:16:16 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-15 22:16:29 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение CityService.getCities() с параметрами: []
2025-08-15 22:16:29 DEBUG org.hibernate.SQL - select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0
2025-08-15 22:16:30 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ CityService.getCities() выполнен за 149 мс, результат: []
2025-08-15 22:16:40 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение CityService.save(..) с параметрами: [ru.proba.DTO.city.CityAdditionDTO@5368f702]
2025-08-15 22:16:40 DEBUG org.hibernate.SQL - select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.name=? and c1_0.timezone=?
2025-08-15 22:16:40 DEBUG org.hibernate.SQL - insert into cities (active,name,timezone) values (?,?,?)
2025-08-15 22:16:40 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ CityService.save(..) выполнен за 140 мс, результат: null
2025-08-15 22:17:12 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение CityService.save(..) с параметрами: [ru.proba.DTO.city.CityAdditionDTO@e2710f]
2025-08-15 22:17:12 DEBUG org.hibernate.SQL - select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.name=? and c1_0.timezone=?
2025-08-15 22:17:12 DEBUG org.hibernate.SQL - insert into cities (active,name,timezone) values (?,?,?)
2025-08-15 22:17:12 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ CityService.save(..) выполнен за 7 мс, результат: null
2025-08-15 22:17:34 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение CityService.getActiveCities() с параметрами: []
2025-08-15 22:17:34 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение BuildingService.findAll() с параметрами: []
2025-08-15 22:17:34 DEBUG org.hibernate.SQL - select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.active=?
2025-08-15 22:17:34 DEBUG org.hibernate.SQL - select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 left join cities c1_0 on c1_0.id=b1_0.cities_id where c1_0.active=?
2025-08-15 22:17:34 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ CityService.getActiveCities() выполнен за 12 мс, результат: [ru.proba.DTO.city.CityDto@244aa9e8, ru.proba.DTO.city.CityDto@395d5a4e]
2025-08-15 22:17:34 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ BuildingService.findAll() выполнен за 19 мс, результат: []
2025-08-15 22:17:36 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение CityService.getActiveCities() с параметрами: []
2025-08-15 22:17:36 DEBUG org.hibernate.SQL - select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.active=?
2025-08-15 22:17:36 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ CityService.getActiveCities() выполнен за 5 мс, результат: [ru.proba.DTO.city.CityDto@705f2fd, ru.proba.DTO.city.CityDto@76800374]
2025-08-15 22:17:40 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение BuildingService.save(..) с параметрами: [ru.proba.DTO.building.BuildingAdditionDTO@6fb4c87]
2025-08-15 22:17:40 DEBUG org.hibernate.SQL - insert into buildings (active,address,cities_id,description) values (?,?,?,?)
2025-08-15 22:17:40 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ BuildingService.save(..) выполнен за 16 мс, результат: null
2025-08-15 22:18:50 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение BuildingService.save(..) с параметрами: [ru.proba.DTO.building.BuildingAdditionDTO@79c57e62]
2025-08-15 22:18:50 DEBUG org.hibernate.SQL - insert into buildings (active,address,cities_id,description) values (?,?,?,?)
2025-08-15 22:18:50 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ BuildingService.save(..) выполнен за 4 мс, результат: null
2025-08-15 22:18:55 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение BuildingService.findAll() с параметрами: []
2025-08-15 22:18:55 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение CityService.getActiveCities() с параметрами: []
2025-08-15 22:18:55 DEBUG org.hibernate.SQL - select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.active=?
2025-08-15 22:18:55 DEBUG org.hibernate.SQL - select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 left join cities c1_0 on c1_0.id=b1_0.cities_id where c1_0.active=?
2025-08-15 22:18:55 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ CityService.getActiveCities() выполнен за 5 мс, результат: [ru.proba.DTO.city.CityDto@178b0a2e, ru.proba.DTO.city.CityDto@3f387321]
2025-08-15 22:18:55 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ BuildingService.findAll() выполнен за 19 мс, результат: [ru.proba.DTO.building.BuildingDTO@a866afe, ru.proba.DTO.building.BuildingDTO@7ad7aa0d]
2025-08-15 22:19:04 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение BuildingService.blockBuilding(..) с параметрами: [1]
2025-08-15 22:19:04 DEBUG org.hibernate.SQL - select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 where b1_0.id=?
2025-08-15 22:19:04 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение RoomService.countActiveRoomsInBuilding(..) с параметрами: [1]
2025-08-15 22:19:04 DEBUG org.hibernate.SQL - select count(r1_0.id) from rooms r1_0 where r1_0.active=true and r1_0.building_id=?
2025-08-15 22:19:04 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ RoomService.countActiveRoomsInBuilding(..) выполнен за 20 мс, результат: 0
2025-08-15 22:19:04 DEBUG org.hibernate.SQL - select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description,r1_0.building_id,r1_0.id,r1_0.active,r1_0.capacity,r1_0.num,r1_0.profiles_id from buildings b1_0 left join rooms r1_0 on b1_0.id=r1_0.building_id where b1_0.id=?
2025-08-15 22:19:04 DEBUG org.hibernate.SQL - update buildings set active=?,address=?,cities_id=?,description=? where id=?
2025-08-15 22:19:05 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ BuildingService.blockBuilding(..) выполнен за 59 мс, результат: null
2025-08-15 22:19:05 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение BuildingService.findAll() с параметрами: []
2025-08-15 22:19:05 DEBUG org.hibernate.SQL - select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 left join cities c1_0 on c1_0.id=b1_0.cities_id where c1_0.active=?
2025-08-15 22:19:05 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ BuildingService.findAll() выполнен за 4 мс, результат: [ru.proba.DTO.building.BuildingDTO@53bd424c, ru.proba.DTO.building.BuildingDTO@474ff5d4]
2025-08-15 22:19:19 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-15 22:19:19 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-15 22:19:19 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-15 22:19:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-15 22:19:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-15 22:21:14 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-15 22:21:14 INFO  ru.proba.ProbaApplication - Starting ProbaApplication using Java 21.0.7 with PID 6848 (D:\IDEA Projects\proba\build\classes\java\main started by Alexandr in D:\IDEA Projects\proba)
2025-08-15 22:21:14 DEBUG ru.proba.ProbaApplication - Running with Spring Boot v3.5.3, Spring v6.2.8
2025-08-15 22:21:14 INFO  ru.proba.ProbaApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.BuildingRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.CityRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.ProbeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.RecordRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.RoomRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 0 JDBC repository interfaces.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-15 22:21:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 6 JPA repository interfaces.
2025-08-15 22:21:16 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-15 22:21:16 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-15 22:21:16 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-15 22:21:16 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-15 22:21:16 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-15 22:21:16 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2340 ms
2025-08-15 22:21:16 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-15 22:21:16 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-08-15 22:21:16 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-15 22:21:17 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-15 22:21:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-15 22:21:17 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6ab50d1c
2025-08-15 22:21:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-15 22:21:17 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-15 22:21:19 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-15 22:21:19 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-15 22:21:19 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-15 22:21:21 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-15 22:21:22 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-15 22:21:22 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-15 22:21:22 INFO  ru.proba.ProbaApplication - Started ProbaApplication in 8.992 seconds (process running for 9.903)
2025-08-15 22:21:33 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-15 22:21:33 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-15 22:21:33 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-15 22:21:33 INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение CityService.getCities() с параметрами: []
2025-08-15 22:21:33 DEBUG org.hibernate.SQL - select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0
2025-08-15 22:21:33 INFO  r.p.aspect.ExecutionLoggingAspect - ✔ CityService.getCities() выполнен за 141 мс, результат: [ru.proba.DTO.city.CityVisualDTO@458d2017, ru.proba.DTO.city.CityVisualDTO@5b51d680]
2025-08-15 22:22:04 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-15 22:22:04 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-15 22:22:04 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-15 22:22:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-15 22:22:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-15 22:26:25 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-15 22:26:25 [main] INFO  ru.proba.ProbaApplication - Starting ProbaApplication using Java 21.0.7 with PID 14700 (D:\IDEA Projects\proba\build\classes\java\main started by Alexandr in D:\IDEA Projects\proba)
2025-08-15 22:26:25 [main] DEBUG ru.proba.ProbaApplication - Running with Spring Boot v3.5.3, Spring v6.2.8
2025-08-15 22:26:25 [main] INFO  ru.proba.ProbaApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.BuildingRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.CityRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.ProbeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.RecordRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.RoomRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 0 JDBC repository interfaces.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-15 22:26:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 6 JPA repository interfaces.
2025-08-15 22:26:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-15 22:26:27 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-15 22:26:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-15 22:26:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-15 22:26:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-15 22:26:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2295 ms
2025-08-15 22:26:27 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-15 22:26:27 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-08-15 22:26:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-15 22:26:28 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-15 22:26:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-15 22:26:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@fa11fda
2025-08-15 22:26:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-15 22:26:28 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-15 22:26:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-15 22:26:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-15 22:26:31 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-15 22:26:32 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-15 22:26:33 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-15 22:26:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-15 22:26:33 [main] INFO  ru.proba.ProbaApplication - Started ProbaApplication in 8.856 seconds (process running for 9.9)
2025-08-15 22:26:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-15 22:26:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-15 22:26:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-15 22:26:39 [http-nio-8080-exec-1] INFO  r.p.aspect.ExecutionLoggingAspect - ▶ Выполнение CityService.getCities() с параметрами: []
2025-08-15 22:26:39 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0
2025-08-15 22:26:39 [http-nio-8080-exec-1] INFO  r.p.aspect.ExecutionLoggingAspect - ✔ CityService.getCities() выполнен за 135 мс, результат: [ru.proba.DTO.city.CityVisualDTO@55b67c6f, ru.proba.DTO.city.CityVisualDTO@523b98ed]
2025-08-15 22:28:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-15 22:28:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-15 22:28:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-15 22:28:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-15 22:28:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-15T22:32:39.764+08:00  INFO 14784 --- [proba] [main] ru.proba.ProbaApplication                : Starting ProbaApplication using Java 21.0.7 with PID 14784 (D:\IDEA Projects\proba\build\classes\java\main started by Alexandr in D:\IDEA Projects\proba)
2025-08-15T22:32:39.766+08:00 DEBUG 14784 --- [proba] [main] ru.proba.ProbaApplication                : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-08-15T22:32:39.767+08:00  INFO 14784 --- [proba] [main] ru.proba.ProbaApplication                : No active profile set, falling back to 1 default profile: "default"
2025-08-15T22:32:40.936+08:00  INFO 14784 --- [proba] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-15T22:32:40.938+08:00  INFO 14784 --- [proba] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-08-15T22:32:40.988+08:00  INFO 14784 --- [proba] [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.BuildingRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15T22:32:40.989+08:00  INFO 14784 --- [proba] [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.CityRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15T22:32:40.991+08:00  INFO 14784 --- [proba] [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.ProbeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15T22:32:40.992+08:00  INFO 14784 --- [proba] [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.RecordRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15T22:32:40.994+08:00  INFO 14784 --- [proba] [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.RoomRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15T22:32:40.995+08:00  INFO 14784 --- [proba] [main] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ru.proba.repositories.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-08-15T22:32:40.996+08:00  INFO 14784 --- [proba] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 0 JDBC repository interfaces.
2025-08-15T22:32:41.009+08:00  INFO 14784 --- [proba] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-15T22:32:41.011+08:00  INFO 14784 --- [proba] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-15T22:32:41.067+08:00  INFO 14784 --- [proba] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 6 JPA repository interfaces.
2025-08-15T22:32:41.985+08:00  INFO 14784 --- [proba] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-08-15T22:32:42.004+08:00  INFO 14784 --- [proba] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-15T22:32:42.005+08:00  INFO 14784 --- [proba] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-08-15T22:32:42.092+08:00  INFO 14784 --- [proba] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-15T22:32:42.093+08:00  INFO 14784 --- [proba] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2260 ms
2025-08-15T22:32:42.384+08:00  INFO 14784 --- [proba] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-15T22:32:42.464+08:00  INFO 14784 --- [proba] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-08-15T22:32:42.513+08:00  INFO 14784 --- [proba] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-08-15T22:32:42.965+08:00  INFO 14784 --- [proba] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-15T22:32:43.006+08:00  INFO 14784 --- [proba] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-15T22:32:43.245+08:00  INFO 14784 --- [proba] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@28b5d5dc
2025-08-15T22:32:43.247+08:00  INFO 14784 --- [proba] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-15T22:32:43.342+08:00  INFO 14784 --- [proba] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-15T22:32:45.051+08:00  INFO 14784 --- [proba] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-15T22:32:45.056+08:00  INFO 14784 --- [proba] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-15T22:32:45.593+08:00  INFO 14784 --- [proba] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-15T22:32:46.840+08:00  INFO 14784 --- [proba] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2025-08-15T22:32:47.931+08:00  INFO 14784 --- [proba] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-08-15T22:32:47.943+08:00  INFO 14784 --- [proba] [main] ru.proba.ProbaApplication                : Started ProbaApplication in 8.831 seconds (process running for 9.777)
2025-08-15T22:32:54.654+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-15T22:32:54.654+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-15T22:32:54.656+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-08-15T22:32:56.037+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-2] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.getCities() с параметрами: []
2025-08-15T22:32:56.130+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0
2025-08-15T22:32:56.178+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-2] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.getCities() выполнен за 142 мс, результат: [ru.proba.DTO.city.CityVisualDTO@5b8a2d65, ru.proba.DTO.city.CityVisualDTO@24ed6c57]
2025-08-15T22:32:57.541+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-3] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.blockCity(..) с параметрами: [1]
2025-08-15T22:32:57.556+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.id=?
2025-08-15T22:32:57.560+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-3] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение BuildingService.countActiveByCity(..) с параметрами: [1]
2025-08-15T22:32:57.641+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-3] org.hibernate.SQL                        : select count(b1_0.id) from buildings b1_0 where b1_0.active=true and b1_0.cities_id=?
2025-08-15T22:32:57.645+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-3] ru.proba.aspect.ExecutionLoggingAspect   : ✔ BuildingService.countActiveByCity(..) выполнен за 85 мс, результат: 1
2025-08-15T22:32:57.646+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-3] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.blockCity(..) выполнен за 105 мс, результат: null
2025-08-15T22:32:57.665+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-4] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.getCities() с параметрами: []
2025-08-15T22:32:57.667+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0
2025-08-15T22:32:57.669+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-4] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.getCities() выполнен за 4 мс, результат: [ru.proba.DTO.city.CityVisualDTO@23f82485, ru.proba.DTO.city.CityVisualDTO@3303063f]
2025-08-15T22:32:59.136+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-7] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.getActiveCities() с параметрами: []
2025-08-15T22:32:59.137+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-8] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение BuildingService.findAll() с параметрами: []
2025-08-15T22:32:59.143+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.active=?
2025-08-15T22:32:59.144+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-8] org.hibernate.SQL                        : select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 left join cities c1_0 on c1_0.id=b1_0.cities_id where c1_0.active=?
2025-08-15T22:32:59.150+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-7] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.getActiveCities() выполнен за 14 мс, результат: [ru.proba.DTO.city.CityDto@3d1b6a07, ru.proba.DTO.city.CityDto@146ae66a]
2025-08-15T22:32:59.179+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-8] ru.proba.aspect.ExecutionLoggingAspect   : ✔ BuildingService.findAll() выполнен за 42 мс, результат: [ru.proba.DTO.building.BuildingDTO@53c40fea, ru.proba.DTO.building.BuildingDTO@1287c37d]
2025-08-15T22:33:00.605+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-9] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение BuildingService.blockBuilding(..) с параметрами: [1]
2025-08-15T22:33:00.608+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-9] org.hibernate.SQL                        : select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 where b1_0.id=?
2025-08-15T22:33:00.610+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-9] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение RoomService.countActiveRoomsInBuilding(..) с параметрами: [1]
2025-08-15T22:33:00.614+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-9] org.hibernate.SQL                        : select count(r1_0.id) from rooms r1_0 where r1_0.active=true and r1_0.building_id=?
2025-08-15T22:33:00.617+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-9] ru.proba.aspect.ExecutionLoggingAspect   : ✔ RoomService.countActiveRoomsInBuilding(..) выполнен за 7 мс, результат: 0
2025-08-15T22:33:00.629+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-9] org.hibernate.SQL                        : select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description,r1_0.building_id,r1_0.id,r1_0.active,r1_0.capacity,r1_0.num,r1_0.profiles_id from buildings b1_0 left join rooms r1_0 on b1_0.id=r1_0.building_id where b1_0.id=?
2025-08-15T22:33:00.665+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-9] org.hibernate.SQL                        : update buildings set active=?,address=?,cities_id=?,description=? where id=?
2025-08-15T22:33:00.673+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-9] ru.proba.aspect.ExecutionLoggingAspect   : ✔ BuildingService.blockBuilding(..) выполнен за 68 мс, результат: null
2025-08-15T22:33:00.679+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-10] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение BuildingService.findAll() с параметрами: []
2025-08-15T22:33:00.681+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-10] org.hibernate.SQL                        : select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 left join cities c1_0 on c1_0.id=b1_0.cities_id where c1_0.active=?
2025-08-15T22:33:00.684+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-10] ru.proba.aspect.ExecutionLoggingAspect   : ✔ BuildingService.findAll() выполнен за 5 мс, результат: [ru.proba.DTO.building.BuildingDTO@40d8f6e1, ru.proba.DTO.building.BuildingDTO@4ad629a1]
2025-08-15T22:33:03.373+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-1] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.getCities() с параметрами: []
2025-08-15T22:33:03.376+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0
2025-08-15T22:33:03.378+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-1] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.getCities() выполнен за 5 мс, результат: [ru.proba.DTO.city.CityVisualDTO@4c5ca60e, ru.proba.DTO.city.CityVisualDTO@42fc7c78]
2025-08-15T22:33:04.255+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-2] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.blockCity(..) с параметрами: [1]
2025-08-15T22:33:04.257+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.id=?
2025-08-15T22:33:04.259+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-2] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение BuildingService.countActiveByCity(..) с параметрами: [1]
2025-08-15T22:33:04.260+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(b1_0.id) from buildings b1_0 where b1_0.active=true and b1_0.cities_id=?
2025-08-15T22:33:04.261+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-2] ru.proba.aspect.ExecutionLoggingAspect   : ✔ BuildingService.countActiveByCity(..) выполнен за 2 мс, результат: 0
2025-08-15T22:33:04.263+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.id=?
2025-08-15T22:33:04.264+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-2] org.hibernate.SQL                        : update cities set active=?,name=?,timezone=? where id=?
2025-08-15T22:33:04.266+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-2] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.blockCity(..) выполнен за 11 мс, результат: null
2025-08-15T22:33:04.274+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-3] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.getCities() с параметрами: []
2025-08-15T22:33:04.276+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0
2025-08-15T22:33:04.278+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-3] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.getCities() выполнен за 4 мс, результат: [ru.proba.DTO.city.CityVisualDTO@7e7ac0d5, ru.proba.DTO.city.CityVisualDTO@7a74b6d]
2025-08-15T22:33:05.107+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-4] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.activateCity(..) с параметрами: [1]
2025-08-15T22:33:05.109+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.id=?
2025-08-15T22:33:05.111+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.id=?
2025-08-15T22:33:05.113+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-4] org.hibernate.SQL                        : update cities set active=?,name=?,timezone=? where id=?
2025-08-15T22:33:05.114+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-4] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.activateCity(..) выполнен за 7 мс, результат: null
2025-08-15T22:33:05.121+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-5] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.getCities() с параметрами: []
2025-08-15T22:33:05.123+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0
2025-08-15T22:33:05.125+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-5] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.getCities() выполнен за 4 мс, результат: [ru.proba.DTO.city.CityVisualDTO@76739326, ru.proba.DTO.city.CityVisualDTO@30b538f0]
2025-08-15T22:33:06.080+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-9] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение BuildingService.findAll() с параметрами: []
2025-08-15T22:33:06.080+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-7] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение CityService.getActiveCities() с параметрами: []
2025-08-15T22:33:06.082+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.active,c1_0.name,c1_0.timezone from cities c1_0 where c1_0.active=?
2025-08-15T22:33:06.082+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-9] org.hibernate.SQL                        : select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 left join cities c1_0 on c1_0.id=b1_0.cities_id where c1_0.active=?
2025-08-15T22:33:06.084+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-7] ru.proba.aspect.ExecutionLoggingAspect   : ✔ CityService.getActiveCities() выполнен за 4 мс, результат: [ru.proba.DTO.city.CityDto@71ebf852, ru.proba.DTO.city.CityDto@3ec165bd]
2025-08-15T22:33:06.085+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-9] ru.proba.aspect.ExecutionLoggingAspect   : ✔ BuildingService.findAll() выполнен за 5 мс, результат: [ru.proba.DTO.building.BuildingDTO@7a2ab331, ru.proba.DTO.building.BuildingDTO@44dd3223]
2025-08-15T22:33:06.976+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-10] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение BuildingService.activateBuilding(..) с параметрами: [1]
2025-08-15T22:33:06.978+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-10] org.hibernate.SQL                        : select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 where b1_0.id=?
2025-08-15T22:33:06.980+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-10] org.hibernate.SQL                        : select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description,r1_0.building_id,r1_0.id,r1_0.active,r1_0.capacity,r1_0.num,r1_0.profiles_id from buildings b1_0 left join rooms r1_0 on b1_0.id=r1_0.building_id where b1_0.id=?
2025-08-15T22:33:06.982+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-10] org.hibernate.SQL                        : update buildings set active=?,address=?,cities_id=?,description=? where id=?
2025-08-15T22:33:06.985+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-10] ru.proba.aspect.ExecutionLoggingAspect   : ✔ BuildingService.activateBuilding(..) выполнен за 9 мс, результат: null
2025-08-15T22:33:06.989+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-1] ru.proba.aspect.ExecutionLoggingAspect   : ▶ Выполнение BuildingService.findAll() с параметрами: []
2025-08-15T22:33:06.992+08:00 DEBUG 14784 --- [proba] [http-nio-8080-exec-1] org.hibernate.SQL                        : select b1_0.id,b1_0.active,b1_0.address,b1_0.cities_id,b1_0.description from buildings b1_0 left join cities c1_0 on c1_0.id=b1_0.cities_id where c1_0.active=?
2025-08-15T22:33:06.994+08:00  INFO 14784 --- [proba] [http-nio-8080-exec-1] ru.proba.aspect.ExecutionLoggingAspect   : ✔ BuildingService.findAll() выполнен за 5 мс, результат: [ru.proba.DTO.building.BuildingDTO@7219f190, ru.proba.DTO.building.BuildingDTO@1f4c37a9]
2025-08-15T22:33:11.906+08:00  INFO 14784 --- [proba] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-08-15T22:33:11.947+08:00  INFO 14784 --- [proba] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-08-15T22:33:11.955+08:00  INFO 14784 --- [proba] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-15T22:33:11.958+08:00  INFO 14784 --- [proba] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-15T22:33:11.963+08:00  INFO 14784 --- [proba] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
