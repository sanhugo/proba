<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.31.xsd"
        objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="1754759010330-9" author="Acer Nitro">
        <dropForeignKeyConstraint baseTableName="records" constraintName="fk6p95uajgka0j0dc9vlbjw1sf1"/>
    </changeSet>
    <changeSet id="1754759010330-10" author="Acer Nitro">
        <dropForeignKeyConstraint baseTableName="results" constraintName="fkkrr20bvsrs9vp3cjin1oicg9a"/>
    </changeSet>
    <changeSet id="1754759010330-4" author="Acer Nitro">
        <addColumn tableName="buildings">
            <column name="active" type="BOOLEAN"/>
        </addColumn>
    </changeSet>
    <changeSet id="1754759010330-5" author="Acer Nitro">
        <addNotNullConstraint columnName="active" tableName="buildings"/>
    </changeSet>
    <changeSet id="1754759010330-6" author="Acer Nitro">
        <addColumn tableName="records">
            <column name="users_id" type="BIGINT"/>
        </addColumn>
    </changeSet>
    <changeSet id="1754759010330-7" author="Acer Nitro">
        <addNotNullConstraint columnName="users_id" tableName="records"/>
    </changeSet>
    <changeSet id="1754759010330-8" author="Acer Nitro">
        <addForeignKeyConstraint baseColumnNames="users_id" baseTableName="records" constraintName="FK_RECORDS_ON_USERS"
                                 referencedColumnNames="id" referencedTableName="users"/>
    </changeSet>
    <changeSet id="1754759010330-14" author="Acer Nitro">
        <dropTable cascadeConstraints="true" tableName="results"/>
    </changeSet>
    <changeSet id="1754759010330-15" author="Acer Nitro">
        <dropColumn columnName="user_id" tableName="records"/>
    </changeSet>
    <changeSet id="1754759010330-1" author="Acer Nitro">
        <dropColumn columnName="roles" tableName="users"/>
    </changeSet>
    <changeSet id="1754759010330-2" author="Acer Nitro">
        <addColumn tableName="users">
            <column name="roles" type="VARCHAR(255)">
                <constraints nullable="false" validateNullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet id="1754759010330-3" author="Acer Nitro">
        <addNotNullConstraint columnDataType="VARCHAR(255)" columnName="roles" tableName="users" validate="true"/>
    </changeSet>

</databaseChangeLog>